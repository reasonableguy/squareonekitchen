<!DOCTYPE html>
<html lang="en">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>GitHub Folder Table of Contents</title>
</head>
<body>
    <h1>Table of Contentfffffs</h1>
    <ul id="toc"></ul>

    <script>
        // URL to the GitHub folder
        const folderUrl = "https://github.com/reasonableguy/squareonekitchen/tree/main/recipes";

        // Function to fetch and parse the GitHub folder page
        async function fetchAndParseFolderPage(url) {
            try {
                const response = await fetch(url);
                const text = await response.text();
                const parser = new DOMParser();
                const doc = parser.parseFromString(text, "text/html");

                return doc;
            } catch (error) {
                console.error("Error fetching GitHub folder page:", error);
                return null;
            }
        }

        // Function to generate the table of contents
        async function generateTableOfContents() {
            const folderPage = await fetchAndParseFolderPage(folderUrl);

            if (folderPage) {
                const tocElement = document.getElementById("toc");
                const links = folderPage.querySelectorAll(".js-navigation-open");

                links.forEach(link => {
                    const listItem = document.createElement("li");
                    const fileUrl = link.href.replace("github.com", "raw.githubusercontent.com").replace("/blob/", "/");
                    const anchor = document.createElement("a");
                    anchor.href = fileUrl;
                    anchor.textContent = link.textContent;
                    listItem.appendChild(anchor);
                    tocElement.appendChild(listItem);
                });
            }
        }

        generateTableOfContents();
    </script>
</body>
</html>
